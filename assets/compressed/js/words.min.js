const buttonShow=document.querySelectorAll(".button-show");buttonShow.forEach(e=>{e.addEventListener("click",function(t){let o=e.getAttribute("data-td"),n=e.getAttribute("data-state");"close"==n?(document.querySelector("#tr-two-"+o).classList.remove("d-none"),e.setAttribute("data-state","open")):"open"==n&&(document.querySelector("#tr-two-"+o).classList.add("d-none"),e.setAttribute("data-state","close"))})});const buttonEdit=document.querySelectorAll(".button-edit");buttonEdit.forEach(e=>{e.addEventListener("click",function(t){let o=e.getAttribute("data-info"),n=e.getAttribute("data-word"),r=e.getAttribute("data-native"),d=e.getAttribute("data-description"),i=e.getAttribute("data-td");document.querySelector("#english_word_modal").value=n,document.querySelector("#native_word_modal").value=r,document.querySelector("#description_modal").value=d,document.querySelector("#btn-modal-edit").onclick=(()=>{let t=document.querySelector("#english_word_modal").value,n=document.querySelector("#native_word_modal").value,r=document.querySelector("#description_modal").value,d="",c="";if((t.length<=1||t.length>=31)&&(d="Minimun Two Characters."),(n.length<=1||n.length>=71)&&(c="Minimum Two Characters"),document.querySelector("#english_word_modal").classList.remove("error-input-border"),document.querySelector("#native_word_modal").classList.remove("error-input-border"),document.querySelector("#popup_english_word").innerHTML="",document.querySelector("#popup_native_word").innerHTML="",""!=d||""!=c)return""!=d&&(document.querySelector("#english_word_modal").classList.add("error-input-border"),document.querySelector("#popup_english_word").innerHTML=d),void(""!=c&&(document.querySelector("#native_word_modal").classList.add("error-input-border"),document.querySelector("#popup_native_word").innerHTML=c));let a=base_url()+"words/ajax-edit-word",s="info="+o+"&english="+t+"&native="+n+"&description="+r,u=new XMLHttpRequest;u.open("POST",a,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(s),u.onreadystatechange=function(){if(4==this.readyState&&200==this.status){e.setAttribute("data-word",t),e.setAttribute("data-native",n),e.setAttribute("data-description",r),document.querySelector("#english-"+i).innerHTML=t,document.querySelector("#native-"+i).innerHTML=n,document.querySelector("#description-"+i).innerHTML=r,document.querySelector("#active-game-"+i).innerHTML="Yes";const o=bootstrap.Modal.getOrCreateInstance("#editModal");setTimeout(()=>{o.hide()},300)}}})})});const buttonDelete=document.querySelectorAll(".button-delete");buttonDelete.forEach(e=>{e.addEventListener("click",function(t){let o=e.getAttribute("data-info"),n=e.getAttribute("data-td");document.querySelector("#btn-modal-delete").onclick=(()=>{let e=base_url()+"words/ajax-delete-word",t="info="+o,r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(t),r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){let e=document.querySelector("#tr-one-"+n),t=document.querySelector("#tr-two-"+n);e.remove(),t.remove();const o=bootstrap.Modal.getOrCreateInstance("#deleteModal");setTimeout(()=>{o.hide()},300)}}})})});const wordSave=document.querySelector("#word-form");wordSave.addEventListener("submit",function(e){e.preventDefault();let t=document.querySelector("#english_word").value,o=base_url()+"words/check-new-word",n="info="+t,r=new XMLHttpRequest;r.open("POST",o,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(n),r.onreadystatechange=function(){4==this.readyState&&200==this.status&&("yes"==this.response?alert("This word exist in your list. Please check"):wordSave.submit())}});let voiceList=document.querySelector("#voiceList"),voice_selected=document.querySelector("#voice_selected").value,synth=window.speechSynthesis,voices=[];PopulateVoices(),void 0!==speechSynthesis&&(speechSynthesis.onvoiceschanged=PopulateVoices);const readWord=document.querySelectorAll(".readword");function PopulateVoices(){voices=synth.getVoices();let e=voiceList.selectedIndex<0?0:voiceList.selectedIndex;voiceList.innerHTML="";let t=1;voices.forEach(e=>{let o=document.createElement("option");o.textContent=e.name,o.setAttribute("data-lang",e.lang),o.setAttribute("data-name",e.name),o.setAttribute("value",t),voiceList.appendChild(o),++t}),voiceList.selectedIndex=e;let o,n=voiceList;for(let e=0;e<n.options.length;e++)if((o=n.options[e]).value==voice_selected)return void(o.selected=!0)}readWord.forEach(e=>{e.addEventListener("click",function(t){let o=window.speechSynthesis,n=e.getAttribute("data-wordread"),r=new SpeechSynthesisUtterance(n);r.lang="en-GB";let d=voiceList.selectedOptions[0].getAttribute("data-name");voices.forEach(e=>{e.name===d&&(r.voice=e)}),o.speak(r)})});